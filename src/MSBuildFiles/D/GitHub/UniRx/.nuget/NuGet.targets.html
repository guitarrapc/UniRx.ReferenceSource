<!DOCTYPE html>
<html><head><title>NuGet.targets</title><link rel="stylesheet" href="../../../../../styles.css"><script src="../../../../../scripts.js"></script></head>
<body class="cB" onload="ix(144);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#MSBuildFiles/D/GitHub/UniRx/.nuget/NuGet.targets" target="_top">D\GitHub\UniRx\.nuget\NuGet.targets</a><br/></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="xd">&lt;?</span><span class="xn">xml </span><span class="xan">version</span><span class="xd">=</span>&quot;<span class="xav">1.0</span>&quot; <span class="xan">encoding</span><span class="xd">=</span>&quot;<span class="xav">utf-8</span>&quot;<span class="xd">?&gt;</span><span class="xd">
&lt;</span><span class="xn">Project </span><span class="xan">ToolsVersion</span><span class="xd">=</span>&quot;<span class="xav">4.0</span>&quot; <span class="xan">xmlns</span><span class="xd">=</span>&quot;<span class="xav">http://schemas.microsoft.com/developer/msbuild/2003</span>&quot;<span class="xd">&gt;</span><span class="xd">
    &lt;</span><span class="xn">PropertyGroup</span><span class="xd">&gt;</span><span class="xd">
        &lt;</span><span class="xn"><a href="/MSBuildProperties/R/SolutionDir.html" target="n" class="msbuildlink">SolutionDir</a> </span><span class="xan">Condition</span><span class="xd">=</span>&quot;<span class="xav">$(<a href="/MSBuildProperties/R/SolutionDir.html" target="n" class="msbuildlink">SolutionDir</a>) == &#39;&#39; Or $(<a href="/MSBuildProperties/R/SolutionDir.html" target="n" class="msbuildlink">SolutionDir</a>) == &#39;*Undefined*&#39;</span>&quot;<span class="xd">&gt;</span>$(<a href="/MSBuildProperties/R/MSBuildProjectDirectory.html" target="n" class="msbuildlink">MSBuildProjectDirectory</a>)\..\<span class="xd">&lt;/</span><span class="xn">SolutionDir</span><span class="xd">&gt;</span><span class="xd">
 
        &lt;!--</span><span class="c"> Enable the restore command to run before builds </span><span class="xd">--&gt;</span><span class="xd">
        &lt;</span><span class="xn"><a href="/MSBuildProperties/R/RestorePackages.html" target="n" class="msbuildlink">RestorePackages</a> </span><span class="xan">Condition</span><span class="xd">=</span>&quot;<span class="xav">  &#39;$(<a href="/MSBuildProperties/R/RestorePackages.html" target="n" class="msbuildlink">RestorePackages</a>)&#39; == &#39;&#39; </span>&quot;<span class="xd">&gt;</span>false<span class="xd">&lt;/</span><span class="xn">RestorePackages</span><span class="xd">&gt;</span><span class="xd">
 
        &lt;!--</span><span class="c"> Property that enables building a package from a project </span><span class="xd">--&gt;</span><span class="xd">
        &lt;</span><span class="xn"><a href="/MSBuildProperties/R/BuildPackage.html" target="n" class="msbuildlink">BuildPackage</a> </span><span class="xan">Condition</span><span class="xd">=</span>&quot;<span class="xav"> &#39;$(<a href="/MSBuildProperties/R/BuildPackage.html" target="n" class="msbuildlink">BuildPackage</a>)&#39; == &#39;&#39; </span>&quot;<span class="xd">&gt;</span>false<span class="xd">&lt;/</span><span class="xn">BuildPackage</span><span class="xd">&gt;</span><span class="xd">
 
        &lt;!--</span><span class="c"> Determines if package restore consent is required to restore packages </span><span class="xd">--&gt;</span><span class="xd">
        &lt;</span><span class="xn"><a href="/MSBuildProperties/R/RequireRestoreConsent.html" target="n" class="msbuildlink">RequireRestoreConsent</a> </span><span class="xan">Condition</span><span class="xd">=</span>&quot;<span class="xav"> &#39;$(<a href="/MSBuildProperties/R/RequireRestoreConsent.html" target="n" class="msbuildlink">RequireRestoreConsent</a>)&#39; != &#39;false&#39; </span>&quot;<span class="xd">&gt;</span>true<span class="xd">&lt;/</span><span class="xn">RequireRestoreConsent</span><span class="xd">&gt;</span><span class="xd">
 
        &lt;!--</span><span class="c"> Download NuGet.exe if it does not already exist </span><span class="xd">--&gt;</span><span class="xd">
        &lt;</span><span class="xn"><a href="/MSBuildProperties/R/DownloadNuGetExe.html" target="n" class="msbuildlink">DownloadNuGetExe</a> </span><span class="xan">Condition</span><span class="xd">=</span>&quot;<span class="xav"> &#39;$(<a href="/MSBuildProperties/R/DownloadNuGetExe.html" target="n" class="msbuildlink">DownloadNuGetExe</a>)&#39; == &#39;&#39; </span>&quot;<span class="xd">&gt;</span>false<span class="xd">&lt;/</span><span class="xn">DownloadNuGetExe</span><span class="xd">&gt;</span><span class="xd">
    &lt;/</span><span class="xn">PropertyGroup</span><span class="xd">&gt;</span><span class="xd">
 
    &lt;</span><span class="xn">ItemGroup </span><span class="xan">Condition</span><span class="xd">=</span>&quot;<span class="xav"> &#39;$(<a href="/MSBuildProperties/R/PackageSources.html" target="n" class="msbuildlink">PackageSources</a>)&#39; == &#39;&#39; </span>&quot;<span class="xd">&gt;</span><span class="xd">
        &lt;!--</span><span class="c"> Package sources used to restore packages. By default, registered sources under %APPDATA%\NuGet\NuGet.Config will be used </span><span class="xd">--&gt;</span><span class="xd">
        &lt;!--</span><span class="c"> The official NuGet package source (https://www.nuget.org/api/v2/) will be excluded if package sources are specified and it does not appear in the list </span><span class="xd">--&gt;</span><span class="xd">
        &lt;!--</span><span class="c">
            &lt;PackageSource Include=&quot;https://www.nuget.org/api/v2/&quot; /&gt;
            &lt;PackageSource Include=&quot;https://my-nuget-source/nuget/&quot; /&gt;
        </span><span class="xd">--&gt;</span><span class="xd">
    &lt;/</span><span class="xn">ItemGroup</span><span class="xd">&gt;</span><span class="xd">
 
    &lt;</span><span class="xn">PropertyGroup </span><span class="xan">Condition</span><span class="xd">=</span>&quot;<span class="xav"> &#39;$(<a href="/MSBuildProperties/R/OS.html" target="n" class="msbuildlink">OS</a>)&#39; == &#39;Windows_NT&#39;</span>&quot;<span class="xd">&gt;</span><span class="xd">
        &lt;!--</span><span class="c"> Windows specific commands </span><span class="xd">--&gt;</span><span class="xd">
        &lt;</span><span class="xn"><a href="/MSBuildProperties/R/NuGetToolsPath.html" target="n" class="msbuildlink">NuGetToolsPath</a></span><span class="xd">&gt;</span>$([System.IO.Path]::Combine($(<a href="/MSBuildProperties/R/SolutionDir.html" target="n" class="msbuildlink">SolutionDir</a>), &quot;.nuget&quot;))<span class="xd">&lt;/</span><span class="xn">NuGetToolsPath</span><span class="xd">&gt;</span><span class="xd">
    &lt;/</span><span class="xn">PropertyGroup</span><span class="xd">&gt;</span><span class="xd">
 
    &lt;</span><span class="xn">PropertyGroup </span><span class="xan">Condition</span><span class="xd">=</span>&quot;<span class="xav"> &#39;$(<a href="/MSBuildProperties/R/OS.html" target="n" class="msbuildlink">OS</a>)&#39; != &#39;Windows_NT&#39;</span>&quot;<span class="xd">&gt;</span><span class="xd">
        &lt;!--</span><span class="c"> We need to launch nuget.exe with the mono command if we&#39;re not on windows </span><span class="xd">--&gt;</span><span class="xd">
        &lt;</span><span class="xn"><a href="/MSBuildProperties/R/NuGetToolsPath.html" target="n" class="msbuildlink">NuGetToolsPath</a></span><span class="xd">&gt;</span>$(<a href="/MSBuildProperties/R/SolutionDir.html" target="n" class="msbuildlink">SolutionDir</a>).nuget<span class="xd">&lt;/</span><span class="xn">NuGetToolsPath</span><span class="xd">&gt;</span><span class="xd">
    &lt;/</span><span class="xn">PropertyGroup</span><span class="xd">&gt;</span><span class="xd">
 
    &lt;</span><span class="xn">PropertyGroup</span><span class="xd">&gt;</span><span class="xd">
        &lt;</span><span class="xn"><a href="/MSBuildProperties/R/PackagesProjectConfig.html" target="n" class="msbuildlink">PackagesProjectConfig</a> </span><span class="xan">Condition</span><span class="xd">=</span>&quot;<span class="xav"> &#39;$(<a href="/MSBuildProperties/R/OS.html" target="n" class="msbuildlink">OS</a>)&#39; == &#39;Windows_NT&#39;</span>&quot;<span class="xd">&gt;</span>$(<a href="/MSBuildProperties/R/MSBuildProjectDirectory.html" target="n" class="msbuildlink">MSBuildProjectDirectory</a>)\packages.$(<a href="/MSBuildProperties/R/MSBuildProjectName.html" target="n" class="msbuildlink">MSBuildProjectName</a>.Replace(&#39; &#39;, &#39;_&#39;)).config<span class="xd">&lt;/</span><span class="xn">PackagesProjectConfig</span><span class="xd">&gt;</span><span class="xd">
        &lt;</span><span class="xn"><a href="/MSBuildProperties/R/PackagesProjectConfig.html" target="n" class="msbuildlink">PackagesProjectConfig</a> </span><span class="xan">Condition</span><span class="xd">=</span>&quot;<span class="xav"> &#39;$(<a href="/MSBuildProperties/R/OS.html" target="n" class="msbuildlink">OS</a>)&#39; != &#39;Windows_NT&#39;</span>&quot;<span class="xd">&gt;</span>$(<a href="/MSBuildProperties/R/MSBuildProjectDirectory.html" target="n" class="msbuildlink">MSBuildProjectDirectory</a>)\packages.$(<a href="/MSBuildProperties/R/MSBuildProjectName.html" target="n" class="msbuildlink">MSBuildProjectName</a>).config<span class="xd">&lt;/</span><span class="xn">PackagesProjectConfig</span><span class="xd">&gt;</span><span class="xd">
    &lt;/</span><span class="xn">PropertyGroup</span><span class="xd">&gt;</span><span class="xd">
 
    &lt;</span><span class="xn">PropertyGroup</span><span class="xd">&gt;</span><span class="xd">
      &lt;</span><span class="xn"><a href="/MSBuildProperties/R/PackagesConfig.html" target="n" class="msbuildlink">PackagesConfig</a> </span><span class="xan">Condition</span><span class="xd">=</span>&quot;<span class="xav">Exists(&#39;$(<a href="/MSBuildProperties/R/MSBuildProjectDirectory.html" target="n" class="msbuildlink">MSBuildProjectDirectory</a>)\packages.config&#39;)</span>&quot;<span class="xd">&gt;</span>$(<a href="/MSBuildProperties/R/MSBuildProjectDirectory.html" target="n" class="msbuildlink">MSBuildProjectDirectory</a>)\packages.config<span class="xd">&lt;/</span><span class="xn">PackagesConfig</span><span class="xd">&gt;</span><span class="xd">
      &lt;</span><span class="xn"><a href="/MSBuildProperties/R/PackagesConfig.html" target="n" class="msbuildlink">PackagesConfig</a> </span><span class="xan">Condition</span><span class="xd">=</span>&quot;<span class="xav">Exists(&#39;$(<a href="/MSBuildProperties/R/PackagesProjectConfig.html" target="n" class="msbuildlink">PackagesProjectConfig</a>)&#39;)</span>&quot;<span class="xd">&gt;</span>$(<a href="/MSBuildProperties/R/PackagesProjectConfig.html" target="n" class="msbuildlink">PackagesProjectConfig</a>)<span class="xd">&lt;/</span><span class="xn">PackagesConfig</span><span class="xd">&gt;</span><span class="xd">
    &lt;/</span><span class="xn">PropertyGroup</span><span class="xd">&gt;</span><span class="xd">
    
    &lt;</span><span class="xn">PropertyGroup</span><span class="xd">&gt;</span><span class="xd">
        &lt;!--</span><span class="c"> NuGet command </span><span class="xd">--&gt;</span><span class="xd">
        &lt;</span><span class="xn"><a href="/MSBuildProperties/R/NuGetExePath.html" target="n" class="msbuildlink">NuGetExePath</a> </span><span class="xan">Condition</span><span class="xd">=</span>&quot;<span class="xav"> &#39;$(<a href="/MSBuildProperties/R/NuGetExePath.html" target="n" class="msbuildlink">NuGetExePath</a>)&#39; == &#39;&#39; </span>&quot;<span class="xd">&gt;</span>$(<a href="/MSBuildProperties/R/NuGetToolsPath.html" target="n" class="msbuildlink">NuGetToolsPath</a>)\NuGet.exe<span class="xd">&lt;/</span><span class="xn">NuGetExePath</span><span class="xd">&gt;</span><span class="xd">
        &lt;</span><span class="xn"><a href="/MSBuildProperties/R/PackageSources.html" target="n" class="msbuildlink">PackageSources</a> </span><span class="xan">Condition</span><span class="xd">=</span>&quot;<span class="xav"> $(<a href="/MSBuildProperties/R/PackageSources.html" target="n" class="msbuildlink">PackageSources</a>) == &#39;&#39; </span>&quot;<span class="xd">&gt;</span>@(<a href="/MSBuildItems/R/PackageSource.html" target="n" class="msbuildlink">PackageSource</a>)<span class="xd">&lt;/</span><span class="xn">PackageSources</span><span class="xd">&gt;</span><span class="xd">
 
        &lt;</span><span class="xn"><a href="/MSBuildProperties/R/NuGetCommand.html" target="n" class="msbuildlink">NuGetCommand</a> </span><span class="xan">Condition</span><span class="xd">=</span>&quot;<span class="xav"> &#39;$(<a href="/MSBuildProperties/R/OS.html" target="n" class="msbuildlink">OS</a>)&#39; == &#39;Windows_NT&#39;</span>&quot;<span class="xd">&gt;</span>&quot;$(<a href="/MSBuildProperties/R/NuGetExePath.html" target="n" class="msbuildlink">NuGetExePath</a>)&quot;<span class="xd">&lt;/</span><span class="xn">NuGetCommand</span><span class="xd">&gt;</span><span class="xd">
        &lt;</span><span class="xn"><a href="/MSBuildProperties/R/NuGetCommand.html" target="n" class="msbuildlink">NuGetCommand</a> </span><span class="xan">Condition</span><span class="xd">=</span>&quot;<span class="xav"> &#39;$(<a href="/MSBuildProperties/R/OS.html" target="n" class="msbuildlink">OS</a>)&#39; != &#39;Windows_NT&#39; </span>&quot;<span class="xd">&gt;</span>mono --runtime=v4.0.30319 $(<a href="/MSBuildProperties/R/NuGetExePath.html" target="n" class="msbuildlink">NuGetExePath</a>)<span class="xd">&lt;/</span><span class="xn">NuGetCommand</span><span class="xd">&gt;</span><span class="xd">
 
        &lt;</span><span class="xn"><a href="/MSBuildProperties/R/PackageOutputDir.html" target="n" class="msbuildlink">PackageOutputDir</a> </span><span class="xan">Condition</span><span class="xd">=</span>&quot;<span class="xav">$(<a href="/MSBuildProperties/R/PackageOutputDir.html" target="n" class="msbuildlink">PackageOutputDir</a>) == &#39;&#39;</span>&quot;<span class="xd">&gt;</span>$(<a href="/MSBuildProperties/R/TargetDir.html" target="n" class="msbuildlink">TargetDir</a>.Trim(&#39;\\&#39;))<span class="xd">&lt;/</span><span class="xn">PackageOutputDir</span><span class="xd">&gt;</span><span class="xd">
 
        &lt;</span><span class="xn"><a href="/MSBuildProperties/R/RequireConsentSwitch.html" target="n" class="msbuildlink">RequireConsentSwitch</a> </span><span class="xan">Condition</span><span class="xd">=</span>&quot;<span class="xav"> $(<a href="/MSBuildProperties/R/RequireRestoreConsent.html" target="n" class="msbuildlink">RequireRestoreConsent</a>) == &#39;true&#39; </span>&quot;<span class="xd">&gt;</span>-RequireConsent<span class="xd">&lt;/</span><span class="xn">RequireConsentSwitch</span><span class="xd">&gt;</span><span class="xd">
        &lt;</span><span class="xn"><a href="/MSBuildProperties/R/NonInteractiveSwitch.html" target="n" class="msbuildlink">NonInteractiveSwitch</a> </span><span class="xan">Condition</span><span class="xd">=</span>&quot;<span class="xav"> &#39;$(<a href="/MSBuildProperties/R/VisualStudioVersion.html" target="n" class="msbuildlink">VisualStudioVersion</a>)&#39; != &#39;&#39; AND &#39;$(<a href="/MSBuildProperties/R/OS.html" target="n" class="msbuildlink">OS</a>)&#39; == &#39;Windows_NT&#39; </span>&quot;<span class="xd">&gt;</span>-NonInteractive<span class="xd">&lt;/</span><span class="xn">NonInteractiveSwitch</span><span class="xd">&gt;</span><span class="xd">
 
        &lt;</span><span class="xn"><a href="/MSBuildProperties/R/PaddedSolutionDir.html" target="n" class="msbuildlink">PaddedSolutionDir</a> </span><span class="xan">Condition</span><span class="xd">=</span>&quot;<span class="xav"> &#39;$(<a href="/MSBuildProperties/R/OS.html" target="n" class="msbuildlink">OS</a>)&#39; == &#39;Windows_NT&#39;</span>&quot;<span class="xd">&gt;</span>&quot;$(<a href="/MSBuildProperties/R/SolutionDir.html" target="n" class="msbuildlink">SolutionDir</a>) &quot;<span class="xd">&lt;/</span><span class="xn">PaddedSolutionDir</span><span class="xd">&gt;</span><span class="xd">
        &lt;</span><span class="xn"><a href="/MSBuildProperties/R/PaddedSolutionDir.html" target="n" class="msbuildlink">PaddedSolutionDir</a> </span><span class="xan">Condition</span><span class="xd">=</span>&quot;<span class="xav"> &#39;$(<a href="/MSBuildProperties/R/OS.html" target="n" class="msbuildlink">OS</a>)&#39; != &#39;Windows_NT&#39; </span>&quot;<span class="xd">&gt;</span>&quot;$(<a href="/MSBuildProperties/R/SolutionDir.html" target="n" class="msbuildlink">SolutionDir</a>)&quot;<span class="xd">&lt;/</span><span class="xn">PaddedSolutionDir</span><span class="xd">&gt;</span><span class="xd">
 
        &lt;!--</span><span class="c"> Commands </span><span class="xd">--&gt;</span><span class="xd">
        &lt;</span><span class="xn"><a href="/MSBuildProperties/R/RestoreCommand.html" target="n" class="msbuildlink">RestoreCommand</a></span><span class="xd">&gt;</span>$(<a href="/MSBuildProperties/R/NuGetCommand.html" target="n" class="msbuildlink">NuGetCommand</a>) install &quot;$(<a href="/MSBuildProperties/R/PackagesConfig.html" target="n" class="msbuildlink">PackagesConfig</a>)&quot; -source &quot;$(<a href="/MSBuildProperties/R/PackageSources.html" target="n" class="msbuildlink">PackageSources</a>)&quot;  $(<a href="/MSBuildProperties/R/NonInteractiveSwitch.html" target="n" class="msbuildlink">NonInteractiveSwitch</a>) $(<a href="/MSBuildProperties/R/RequireConsentSwitch.html" target="n" class="msbuildlink">RequireConsentSwitch</a>) -solutionDir $(<a href="/MSBuildProperties/R/PaddedSolutionDir.html" target="n" class="msbuildlink">PaddedSolutionDir</a>)<span class="xd">&lt;/</span><span class="xn">RestoreCommand</span><span class="xd">&gt;</span><span class="xd">
        &lt;</span><span class="xn"><a href="/MSBuildProperties/R/BuildCommand.html" target="n" class="msbuildlink">BuildCommand</a></span><span class="xd">&gt;</span>$(<a href="/MSBuildProperties/R/NuGetCommand.html" target="n" class="msbuildlink">NuGetCommand</a>) pack &quot;$(<a href="/MSBuildProperties/R/ProjectPath.html" target="n" class="msbuildlink">ProjectPath</a>)&quot; -Properties &quot;Configuration=$(<a href="/MSBuildProperties/R/Configuration.html" target="n" class="msbuildlink">Configuration</a>);Platform=$(<a href="/MSBuildProperties/R/Platform.html" target="n" class="msbuildlink">Platform</a>)&quot; $(<a href="/MSBuildProperties/R/NonInteractiveSwitch.html" target="n" class="msbuildlink">NonInteractiveSwitch</a>) -OutputDirectory &quot;$(<a href="/MSBuildProperties/R/PackageOutputDir.html" target="n" class="msbuildlink">PackageOutputDir</a>)&quot; -symbols<span class="xd">&lt;/</span><span class="xn">BuildCommand</span><span class="xd">&gt;</span><span class="xd">
 
        &lt;!--</span><span class="c"> We need to ensure packages are restored prior to assembly resolve </span><span class="xd">--&gt;</span><span class="xd">
        &lt;</span><span class="xn"><a href="/MSBuildProperties/R/BuildDependsOn.html" target="n" class="msbuildlink">BuildDependsOn</a> </span><span class="xan">Condition</span><span class="xd">=</span>&quot;<span class="xav">$(<a href="/MSBuildProperties/R/RestorePackages.html" target="n" class="msbuildlink">RestorePackages</a>) == &#39;true&#39;</span>&quot;<span class="xd">&gt;</span>
            <a href="/MSBuildTargets/R/RestorePackages.html" target="n" class="msbuildlink">RestorePackages</a>;
            $(<a href="/MSBuildProperties/R/BuildDependsOn.html" target="n" class="msbuildlink">BuildDependsOn</a>);
        <span class="xd">&lt;/</span><span class="xn">BuildDependsOn</span><span class="xd">&gt;</span><span class="xd">
 
        &lt;!--</span><span class="c"> Make the build depend on restore packages </span><span class="xd">--&gt;</span><span class="xd">
        &lt;</span><span class="xn"><a href="/MSBuildProperties/R/BuildDependsOn.html" target="n" class="msbuildlink">BuildDependsOn</a> </span><span class="xan">Condition</span><span class="xd">=</span>&quot;<span class="xav">$(<a href="/MSBuildProperties/R/BuildPackage.html" target="n" class="msbuildlink">BuildPackage</a>) == &#39;true&#39;</span>&quot;<span class="xd">&gt;</span>
            $(<a href="/MSBuildProperties/R/BuildDependsOn.html" target="n" class="msbuildlink">BuildDependsOn</a>);
            <a href="/MSBuildTargets/R/BuildPackage.html" target="n" class="msbuildlink">BuildPackage</a>;
        <span class="xd">&lt;/</span><span class="xn">BuildDependsOn</span><span class="xd">&gt;</span><span class="xd">
    &lt;/</span><span class="xn">PropertyGroup</span><span class="xd">&gt;</span><span class="xd">
 
    &lt;</span><span class="xn">Target </span><span class="xan">Name</span><span class="xd">=</span>&quot;<span class="xav"><a href="/MSBuildTargets/R/CheckPrerequisites.html" target="n" class="msbuildlink">CheckPrerequisites</a></span>&quot;<span class="xd">&gt;</span><span class="xd">
        &lt;!--</span><span class="c"> Raise an error if we&#39;re unable to locate nuget.exe  </span><span class="xd">--&gt;</span><span class="xd">
        &lt;</span><span class="xn"><a href="/MSBuildTasks/R/Error.html" target="n" class="msbuildlink">Error</a> </span><span class="xan">Condition</span><span class="xd">=</span>&quot;<span class="xav">&#39;$(<a href="/MSBuildProperties/R/DownloadNuGetExe.html" target="n" class="msbuildlink">DownloadNuGetExe</a>)&#39; != &#39;true&#39; AND !Exists(&#39;$(<a href="/MSBuildProperties/R/NuGetExePath.html" target="n" class="msbuildlink">NuGetExePath</a>)&#39;)</span>&quot; <span class="xan">Text</span><span class="xd">=</span>&quot;<span class="xav">Unable to locate &#39;$(<a href="/MSBuildProperties/R/NuGetExePath.html" target="n" class="msbuildlink">NuGetExePath</a>)&#39;</span>&quot; <span class="xd">/&gt;</span><span class="xd">
        &lt;!--</span><span class="c">
        Take advantage of MsBuild&#39;s build dependency tracking to make sure that we only ever download nuget.exe once.
        This effectively acts as a lock that makes sure that the download operation will only happen once and all
        parallel builds will have to wait for it to complete.
        </span><span class="xd">--&gt;</span><span class="xd">
        &lt;</span><span class="xn"><a href="/MSBuildTasks/R/MsBuild.html" target="n" class="msbuildlink">MsBuild</a> </span><span class="xan">Targets</span><span class="xd">=</span>&quot;<span class="xav">_DownloadNuGet</span>&quot; <span class="xan">Projects</span><span class="xd">=</span>&quot;<span class="xav">$(<a href="/MSBuildProperties/R/MSBuildThisFileFullPath.html" target="n" class="msbuildlink">MSBuildThisFileFullPath</a>)</span>&quot; <span class="xan">Properties</span><span class="xd">=</span>&quot;<span class="xav">Configuration=NOT_IMPORTANT;DownloadNuGetExe=$(<a href="/MSBuildProperties/R/DownloadNuGetExe.html" target="n" class="msbuildlink">DownloadNuGetExe</a>)</span>&quot; <span class="xd">/&gt;</span><span class="xd">
    &lt;/</span><span class="xn">Target</span><span class="xd">&gt;</span><span class="xd">
 
    &lt;</span><span class="xn">Target </span><span class="xan">Name</span><span class="xd">=</span>&quot;<span class="xav"><a href="/MSBuildTargets/R/_DownloadNuGet.html" target="n" class="msbuildlink">_DownloadNuGet</a></span>&quot;<span class="xd">&gt;</span><span class="xd">
        &lt;</span><span class="xn"><a href="/MSBuildTasks/R/DownloadNuGet.html" target="n" class="msbuildlink">DownloadNuGet</a> </span><span class="xan">OutputFilename</span><span class="xd">=</span>&quot;<span class="xav">$(<a href="/MSBuildProperties/R/NuGetExePath.html" target="n" class="msbuildlink">NuGetExePath</a>)</span>&quot; <span class="xan">Condition</span><span class="xd">=</span>&quot;<span class="xav"> &#39;$(<a href="/MSBuildProperties/R/DownloadNuGetExe.html" target="n" class="msbuildlink">DownloadNuGetExe</a>)&#39; == &#39;true&#39; AND !Exists(&#39;$(<a href="/MSBuildProperties/R/NuGetExePath.html" target="n" class="msbuildlink">NuGetExePath</a>)&#39;)</span>&quot; <span class="xd">/&gt;</span><span class="xd">
    &lt;/</span><span class="xn">Target</span><span class="xd">&gt;</span><span class="xd">
 
    &lt;</span><span class="xn">Target </span><span class="xan">Name</span><span class="xd">=</span>&quot;<span class="xav"><a href="/MSBuildTargets/R/RestorePackages.html" target="n" class="msbuildlink">RestorePackages</a></span>&quot; <span class="xan">DependsOnTargets</span><span class="xd">=</span>&quot;<span class="xav"><a href="/MSBuildTargets/R/CheckPrerequisites.html" target="n" class="msbuildlink">CheckPrerequisites</a></span>&quot;<span class="xd">&gt;</span><span class="xd">        
        &lt;</span><span class="xn"><a href="/MSBuildTasks/R/Exec.html" target="n" class="msbuildlink">Exec</a> </span><span class="xan">Command</span><span class="xd">=</span>&quot;<span class="xav">$(<a href="/MSBuildProperties/R/RestoreCommand.html" target="n" class="msbuildlink">RestoreCommand</a>)</span>&quot;<span class="xan">
              Condition</span><span class="xd">=</span>&quot;<span class="xav">&#39;$(<a href="/MSBuildProperties/R/OS.html" target="n" class="msbuildlink">OS</a>)&#39; != &#39;Windows_NT&#39; And Exists(&#39;$(<a href="/MSBuildProperties/R/PackagesConfig.html" target="n" class="msbuildlink">PackagesConfig</a>)&#39;)</span>&quot; <span class="xd">/&gt;</span><span class="xd">
 
        &lt;</span><span class="xn"><a href="/MSBuildTasks/R/Exec.html" target="n" class="msbuildlink">Exec</a> </span><span class="xan">Command</span><span class="xd">=</span>&quot;<span class="xav">$(<a href="/MSBuildProperties/R/RestoreCommand.html" target="n" class="msbuildlink">RestoreCommand</a>)</span>&quot;<span class="xan">
              LogStandardErrorAsError</span><span class="xd">=</span>&quot;<span class="xav">true</span>&quot;<span class="xan">
              Condition</span><span class="xd">=</span>&quot;<span class="xav">&#39;$(<a href="/MSBuildProperties/R/OS.html" target="n" class="msbuildlink">OS</a>)&#39; == &#39;Windows_NT&#39; And Exists(&#39;$(<a href="/MSBuildProperties/R/PackagesConfig.html" target="n" class="msbuildlink">PackagesConfig</a>)&#39;)</span>&quot; <span class="xd">/&gt;</span><span class="xd">
    &lt;/</span><span class="xn">Target</span><span class="xd">&gt;</span><span class="xd">
 
    &lt;</span><span class="xn">Target </span><span class="xan">Name</span><span class="xd">=</span>&quot;<span class="xav"><a href="/MSBuildTargets/R/BuildPackage.html" target="n" class="msbuildlink">BuildPackage</a></span>&quot; <span class="xan">DependsOnTargets</span><span class="xd">=</span>&quot;<span class="xav"><a href="/MSBuildTargets/R/CheckPrerequisites.html" target="n" class="msbuildlink">CheckPrerequisites</a></span>&quot;<span class="xd">&gt;</span><span class="xd">
        &lt;</span><span class="xn"><a href="/MSBuildTasks/R/Exec.html" target="n" class="msbuildlink">Exec</a> </span><span class="xan">Command</span><span class="xd">=</span>&quot;<span class="xav">$(<a href="/MSBuildProperties/R/BuildCommand.html" target="n" class="msbuildlink">BuildCommand</a>)</span>&quot;<span class="xan">
              Condition</span><span class="xd">=</span>&quot;<span class="xav"> &#39;$(<a href="/MSBuildProperties/R/OS.html" target="n" class="msbuildlink">OS</a>)&#39; != &#39;Windows_NT&#39; </span>&quot; <span class="xd">/&gt;</span><span class="xd">
 
        &lt;</span><span class="xn"><a href="/MSBuildTasks/R/Exec.html" target="n" class="msbuildlink">Exec</a> </span><span class="xan">Command</span><span class="xd">=</span>&quot;<span class="xav">$(<a href="/MSBuildProperties/R/BuildCommand.html" target="n" class="msbuildlink">BuildCommand</a>)</span>&quot;<span class="xan">
              LogStandardErrorAsError</span><span class="xd">=</span>&quot;<span class="xav">true</span>&quot;<span class="xan">
              Condition</span><span class="xd">=</span>&quot;<span class="xav"> &#39;$(<a href="/MSBuildProperties/R/OS.html" target="n" class="msbuildlink">OS</a>)&#39; == &#39;Windows_NT&#39; </span>&quot; <span class="xd">/&gt;</span><span class="xd">
    &lt;/</span><span class="xn">Target</span><span class="xd">&gt;</span><span class="xd">
 
    &lt;</span><span class="xn"><a href="/MSBuildTasks/R/DownloadNuGet.html" target="n" class="msbuildlink">UsingTask</a> </span><span class="xan">TaskName</span><span class="xd">=</span>&quot;<span class="xav"><a href="/Microsoft.Build.Tasks.v4.0/A.html#93829e09dab2a086" class="msbuildlink">DownloadNuGet</a></span>&quot; <span class="xan">TaskFactory</span><span class="xd">=</span>&quot;<span class="xav">CodeTaskFactory</span>&quot; <span class="xan">AssemblyFile</span><span class="xd">=</span>&quot;<span class="xav">$(<a href="/MSBuildProperties/R/MSBuildToolsPath.html" target="n" class="msbuildlink">MSBuildToolsPath</a>)\Microsoft.Build.Tasks.v4.0.dll</span>&quot;<span class="xd">&gt;</span><span class="xd">
        &lt;</span><span class="xn">ParameterGroup</span><span class="xd">&gt;</span><span class="xd">
            &lt;</span><span class="xn">OutputFilename </span><span class="xan">ParameterType</span><span class="xd">=</span>&quot;<span class="xav">System.String</span>&quot; <span class="xan">Required</span><span class="xd">=</span>&quot;<span class="xav">true</span>&quot; <span class="xd">/&gt;</span><span class="xd">
        &lt;/</span><span class="xn">ParameterGroup</span><span class="xd">&gt;</span><span class="xd">
        &lt;</span><span class="xn">Task</span><span class="xd">&gt;</span><span class="xd">
            &lt;</span><span class="xn">Reference </span><span class="xan">Include</span><span class="xd">=</span>&quot;<span class="xav">System.Core</span>&quot; <span class="xd">/&gt;</span><span class="xd">
            &lt;</span><span class="xn">Using </span><span class="xan">Namespace</span><span class="xd">=</span>&quot;<span class="xav">System</span>&quot; <span class="xd">/&gt;</span><span class="xd">
            &lt;</span><span class="xn">Using </span><span class="xan">Namespace</span><span class="xd">=</span>&quot;<span class="xav">System.IO</span>&quot; <span class="xd">/&gt;</span><span class="xd">
            &lt;</span><span class="xn">Using </span><span class="xan">Namespace</span><span class="xd">=</span>&quot;<span class="xav">System.Net</span>&quot; <span class="xd">/&gt;</span><span class="xd">
            &lt;</span><span class="xn">Using </span><span class="xan">Namespace</span><span class="xd">=</span>&quot;<span class="xav">Microsoft.Build.Framework</span>&quot; <span class="xd">/&gt;</span><span class="xd">
            &lt;</span><span class="xn">Using </span><span class="xan">Namespace</span><span class="xd">=</span>&quot;<span class="xav">Microsoft.Build.Utilities</span>&quot; <span class="xd">/&gt;</span><span class="xd">
            &lt;</span><span class="xn">Code </span><span class="xan">Type</span><span class="xd">=</span>&quot;<span class="xav">Fragment</span>&quot; <span class="xan">Language</span><span class="xd">=</span>&quot;<span class="xav">cs</span>&quot;<span class="xd">&gt;</span><span class="xd">
                &lt;![CDATA[</span><span class="xcs">
                try {
                    OutputFilename = Path.GetFullPath(OutputFilename);
 
                    Log.LogMessage(&quot;Downloading latest version of NuGet.exe...&quot;);
                    WebClient webClient = new WebClient();
                    webClient.DownloadFile(&quot;https://www.nuget.org/nuget.exe&quot;, OutputFilename);
 
                    return true;
                }
                catch (Exception ex) {
                    Log.LogErrorFromException(ex);
                    return false;
                }
            </span><span class="xd">]]&gt;</span><span class="xd">
            &lt;/</span><span class="xn">Code</span><span class="xd">&gt;</span><span class="xd">
        &lt;/</span><span class="xn">Task</span><span class="xd">&gt;</span><span class="xd">
    &lt;/</span><span class="xn">UsingTask</span><span class="xd">&gt;</span><span class="xd">
&lt;/</span><span class="xn">Project</span><span class="xd">&gt;</span>
</pre></td></tr></table></div></body></html>
